<!-- https://github.com/thomas-lowry/figma-plugin-ds -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/thomas-lowry/figma-plugin-ds/dist/figma-plugin-ds.css">
<!-- <script src="https://cdn.jsdelivr.net/gh/thomas-lowry/figma-plugin-ds/dist/iife/figma-plugin-ds.js"></script> -->
<style>
  body {
    padding: 2rem 1rem
  }
  .button,
  .switch {
    margin-top: 1rem;
  }
  .switch {
    margin-bottom: .5rem;
  }
</style>
<h1 class="type type--large type--bold">DMI Test Plugin</h1>

<div class="type type--medium">
  <div class="input">
    <div class="label" for="username">Username</div>
    <input type="input" id="username" class="input__field" placeholder="Your Username">
  </div>
  <div class="input">
    <div class="label" for="name">Name</div>
    <input type="input" id="name" class="input__field" placeholder="Your Name">
  </div>
  <div class="input">
    <div class="label" for="description">Descriptiom</div>
    <textarea class="textarea" rows="2" placeholder="Your Post goes here" id="description"></textarea>
  </div>
  <div class="switch">
    <input class="switch__toggle" type="checkbox" id="dark-mode-on">
    <label class="switch__label" for="dark-mode-on">Dark Mode</label>
  </div>
  <div class="radio radio-group">
    <div class="radio">
      <input id="radioButton1"type="radio" class="radio__button" name="variantGroup" value="1">
      <label for="radioButton1" class="radio__label">No image</label>
    </div>

    <div class="radio">
      <input id="radioButton2"type="radio" class="radio__button" name="variantGroup" value="2">
      <label for="radioButton2" class="radio__label">Single Image</label>
    </div>

    <div class="radio">
      <input id="radioButton3"type="radio" class="radio__button" name="variantGroup" value="3">
      <label for="radioButton3" class="radio__label">Carousel</label>
    </div>
  </div>
  <button class='button button--primary' id="submit-post">SUbmit Post</button> 
</div>

<script>
  document.getElementById('submit-post').onclick = () => {
    const name = document.getElementById('name').value;
    const username = document.getElementById('username').value;
    const description = document.getElementById('description').value;
    const darkModeState = document.getElementById('dark-mode-on').checked;
    const imageVariant = document.querySelector('input[name="variantGroup"]:checked').value 

    // console.log('save')
    // console.log('name: ', name);
    // console.log('username: ', username);
    // console.log('description: ', description);
    // console.log('darkModeState: ', darkModeState);
    // console.log('imageVariant: ', imageVariant);

    parent.postMessage({pluginMessage: {name, username, description, darkModeState, imageVariant}}, '*');
    }
</script>